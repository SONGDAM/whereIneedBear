const items = [{
    name: "4_img_1",
    temperature: "4",
    image: "../assets/attire/4_img_1.jpg",
  },
  {
    name: "4_img_2",
    temperature: "4",
    image: "../assets/attire/4_img_2.jpg",
  },
  {
    name: "4_img_3",
    temperature: "4",
    image: "../assets/attire/4_img_3.jpg",
  },
  {
    name: "4_img_4",
    temperature: "4",
    image: "../assets/attire/4_img_4.jpg",
  },
  {
    name: "4_img_5",
    temperature: "4",
    image: "../assets/attire/4_img_5.jpg",
  },
  {
    name: "4_img_6",
    temperature: "4",
    image: "../assets/attire/4_img_6.jpg",
  },
  {
    name: "4_img_7",
    temperature: "4",
    image: "../assets/attire/4_img_7.jpg",
  },
  {
    name: "4_img_8",
    temperature: "4",
    image: "../assets/attire/4_img_8.jpg",
  },
  {
    name: "4_img_9",
    temperature: "4",
    image: "../assets/attire/4_img_9.jpg",
  },
  {
    name: "4_img_10",
    temperature: "4",
    image: "../assets/attire/4_img_10.jpg",
  },
  {
    name: "4_img_11",
    temperature: "4",
    image: "../assets/attire/4_img_11.jpg",
  },
  {
    name: "4_img_12",
    temperature: "4",
    image: "../assets/attire/4_img_12.jpg",
  },
  {
    name: "4_img_13",
    temperature: "4",
    image: "../assets/attire/4_img_13.jpg",
  },
  {
    name: "4_img_14",
    temperature: "4",
    image: "../assets/attire/4_img_14.jpg",
  },
  {
    name: "4_img_15",
    temperature: "4",
    image: "../assets/attire/4_img_15.jpg",
  },
  {
    name: "4_img_16",
    temperature: "4",
    image: "../assets/attire/4_img_16.jpg",
  },
  {
    name: "5_img_1",
    temperature: "5",
    image: "../assets/attire/5_img_1.jpg",
  },
  {
    name: "5_img_2",
    temperature: "5",
    image: "../assets/attire/5_img_2.jpg",
  },
  {
    name: "5_img_3",
    temperature: "5",
    image: "../assets/attire/5_img_3.jpg",
  },
  {
    name: "5_img_4",
    temperature: "5",
    image: "../assets/attire/5_img_4.jpg",
  },
  {
    name: "5_img_5",
    temperature: "5",
    image: "../assets/attire/5_img_5.jpg",
  },
  {
    name: "5_img_6",
    temperature: "5",
    image: "../assets/attire/5_img_6.jpg",
  },
  {
    name: "5_img_7",
    temperature: "5",
    image: "../assets/attire/5_img_7.jpg",
  },
  {
    name: "5_img_8",
    temperature: "5",
    image: "../assets/attire/5_img_8.jpg",
  },
  {
    name: "5_img_9",
    temperature: "5",
    image: "../assets/attire/5_img_9.jpg",
  },
  {
    name: "5_img_10",
    temperature: "5",
    image: "../assets/attire/5_img_10.jpg",
  },
  {
    name: "5_img_11",
    temperature: "5",
    image: "../assets/attire/5_img_11.jpg",
  },
  {
    name: "5_img_12",
    temperature: "5",
    image: "../assets/attire/5_img_12.jpg",
  },
  {
    name: "5_img_13",
    temperature: "5",
    image: "../assets/attire/5_img_13.jpg",
  },
  {
    name: "5_img_14",
    temperature: "5",
    image: "../assets/attire/5_img_14.jpg",
  },
  {
    name: "5_img_15",
    temperature: "5",
    image: "../assets/attire/5_img_15.jpg",
  },
  {
    name: "5_img_16",
    temperature: "5",
    image: "../assets/attire/5_img_16.jpg",
  },
  {
    name: "9_img_1",
    temperature: "9",
    image: "../assets/attire/9_img_1.jpg",
  },
  {
    name: "9_img_2",
    temperature: "9",
    image: "../assets/attire/9_img_2.jpg",
  },
  {
    name: "9_img_3",
    temperature: "9",
    image: "../assets/attire/9_img_3.jpg",
  },
  {
    name: "9_img_4",
    temperature: "9",
    image: "../assets/attire/9_img_4.jpg",
  },
  {
    name: "9_img_5",
    temperature: "9",
    image: "../assets/attire/9_img_5.jpg",
  },
  {
    name: "9_img_6",
    temperature: "9",
    image: "../assets/attire/9_img_6.jpg",
  },
  {
    name: "9_img_7",
    temperature: "9",
    image: "../assets/attire/9_img_7.jpg",
  },
  {
    name: "9_img_8",
    temperature: "9",
    image: "../assets/attire/9_img_8.jpg",
  },
  {
    name: "9_img_9",
    temperature: "9",
    image: "../assets/attire/9_img_9.jpg",
  },
  {
    name: "9_img_10",
    temperature: "9",
    image: "../assets/attire/9_img_10.jpg",
  },
  {
    name: "9_img_11",
    temperature: "9",
    image: "../assets/attire/9_img_11.jpg",
  },
  {
    name: "9_img_12",
    temperature: "9",
    image: "../assets/attire/9_img_12.jpg",
  },
  {
    name: "9_img_13",
    temperature: "9",
    image: "../assets/attire/9_img_13.jpg",
  },
  {
    name: "9_img_14",
    temperature: "9",
    image: "../assets/attire/9_img_14.jpg",
  },
  {
    name: "9_img_15",
    temperature: "9",
    image: "../assets/attire/9_img_15.jpg",
  },
  {
    name: "9_img_16",
    temperature: "9",
    image: "../assets/attire/9_img_16.jpg",
  },
];


//-------------------------------------------날씨 구역 ----------------------

// Openweather API 날짜 정보 받을 수 있는 API키
const API_KEY = "d1f4c51106f97ceb117112414f8e5794";

// 브라우저에서 제공하는 위치정보 받는 기본함수
// (navigator.geolocation에서 위치정보 받는것을 성공했을 때 실행 하는 함수)
function onGeoOk(position) {
  // 위도 경도 변수 지정
  const lat = position.coords.latitude;
  const lng = position.coords.longitude;

  // Openweather API 날씨 정도 사용을 위한 url 변수 지정 (위도 경도 참조)
  const url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lng}&exclude=minutely,hourly&appid=${API_KEY}&units=metric&lang=kr`;

  // 일주일간의 온도 정보 가져오기 위한 Openweather API 서버에 요청
  fetch(url).then(response => response.json()).then(data => {
    // 서버로 요청한 데이터를 배열로 담기 위한 빈 배열 지정
    const tempArray = [];
    // 날짜 정보 담기 위한 변수 지정
    var date = '';

    // 날짜 지정
    date = new Date(data.daily[0].dt * 1000);

    // 날씨 정보 입력하기
    tempArray.push(data.daily[0].temp.day);

    console.log(Math.round(tempArray[0]));

    // 실시간 온도
    let apiTemp = Math.round(tempArray[0]);

    // ----------------------------------날씨 구역 ---------------------------





    //템플릿 (객체 갯수만큼 템플릿이 반복됨)
    function itemTemplate(item) {
      return `
    <img src="${item.image}">
    `
    }


    //셀렉트박스
    document.querySelector(".select").innerHTML = `
<select name="" id="selectBox" onchange="selects(this)">
    <option value="9">${apiTemp}</option>
    <option value="5">8~5℃</option>
    <option value="4">4℃↓</option>
</select>
`

    //filter
    var four = items.filter(function (element) {
      return element.temperature == "4";
    });

    var five = items.filter(function (element) {
      return element.temperature == "5";
    });

    var nine = items.filter(function (element) {
      return element.temperature == "9";
    });



    /*-------------- 성진 추가 ------------- */
    if (4 < apiTemp < 10) {
      document.getElementById("imgBox").innerHTML = `
      ${four.map(itemTemplate).join("")}
      `}




    //imgbox안에 들어갈 내용 (템플릿과 연결)
    //temperature 셀렉트별 이미지 띄우기
    function selects(s) {
      if (s.value == 4) {
        document.getElementById("imgBox").innerHTML = `
        ${four.map(itemTemplate).join("")}
        `
      } else if (s.value == 5) {
        document.getElementById("imgBox").innerHTML = `
        ${five.map(itemTemplate).join("")}
        `
      } else {
        document.getElementById("imgBox").innerHTML = `
        ${nine.map(itemTemplate).join("")}
        `
      }
    }

  });

}





// --------------------
// navigator.geolocation.getCurrentPosition에서 위치 정보를 받는데 실패 했을 때,
// 실행 할 함수
function onGeoError() {
  alert("위치정보를 찾을 수 없습니다.")
}

// navigator.geolocation.getCurrentPosition(위치 정보 받는데 성공했을 때 실행 할 함수, 실패 했을 때 실행 할 함수)
navigator.geolocation.getCurrentPosition(onGeoOk, onGeoError);